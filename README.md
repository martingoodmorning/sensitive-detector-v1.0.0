# æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿ v1.0.0

ä¸€ä¸ªåŸºäº Web + FastAPI + Ollama çš„æ™ºèƒ½æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿï¼Œæ”¯æŒæ–‡æœ¬æ£€æµ‹ã€æ–‡æ¡£æ£€æµ‹ã€æ•æ„Ÿè¯åº“ç®¡ç†ï¼Œå…·å¤‡åŒé‡åŒ¹é…è§„åˆ™å¼•æ“å’Œå¤§è¯­è¨€æ¨¡å‹æ™ºèƒ½æ£€æµ‹èƒ½åŠ›ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [å‰ç«¯ç•Œé¢](#å‰ç«¯ç•Œé¢)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [æŠ€æœ¯æ–‡æ¡£](#æŠ€æœ¯æ–‡æ¡£)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿæ˜¯ä¸€ä¸ªæ™ºèƒ½å†…å®¹å®‰å…¨æ£€æµ‹å¹³å°ï¼Œç»“åˆäº†åŸºäºâ€œæ–‡æœ¬é¢„å¤„ç† + ACè‡ªåŠ¨æœº + DFAâ€ çš„æ•æ„Ÿè¯åŒ¹é…ç®—æ³•å’Œå…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›å¿«é€Ÿã€å¯é ã€ä¾¿æ·çš„æ•æ„Ÿå†…å®¹è¯†åˆ«æœåŠ¡ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- **åŒé‡æ£€æµ‹**ï¼šè§„åˆ™åŒ¹é…å¿«é€Ÿç­›é€‰ + å­˜ç–‘å†…å®¹LLMæ™ºèƒ½æ£€æµ‹
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ–‡æœ¬ã€PDFã€DOCXã€DOC æ–‡æ¡£ + å›¾ç‰‡OCRè¯†åˆ«
- **å®æ—¶æ£€æµ‹**ï¼šæ¯«ç§’çº§å“åº”æ—¶é—´ã€‚å•ä¸ªè¯­å¥æ­£å¸¸å“åº”æ—¶é—´çº¦5msï¼Œå­˜ç–‘å†…å®¹å•æ¬¡å“åº”æ—¶é—´çº¦450msï¼Œè¿ç»­å“åº”æ—¶é—´çº¦150msï¼Œé€‚ç”¨äºå®æ—¶æ€§è¦æ±‚é«˜åœºæ™¯ã€‚
- **æ”¯æŒä¸¥æ ¼æ¨¡å¼**ï¼šå–æ¶ˆè§„åˆ™åŒ¹é…å¿«é€Ÿé¢„ç­›ï¼Œæ‰€æœ‰è¾“å…¥å‡ä½¿ç”¨å¤§æ¨¡å‹æ£€æµ‹ï¼Œé€‚ç”¨äºæ£€æµ‹ç‡è¦æ±‚é«˜çš„åœºæ™¯ã€‚
- **æ•æ„Ÿè¯åº“ç®¡ç†**ï¼šæ”¯æŒæ•æ„Ÿè¯åº“é€‰æ‹©ã€æ„å»ºã€ç¼–è¾‘ã€ç§»é™¤ç­‰åŠŸèƒ½ï¼Œæ“ä½œç®€æ´å‹å¥½ã€‚
- **å¤§æ¨¡å‹ä¼˜åŒ–**ï¼šLLMä½¿ç”¨Qwen2.5:7B Q4_K_Mé‡åŒ–æ¨¡å‹
- **Webç•Œé¢**ï¼šç®€æ´ç¾è§‚çš„ Web ç•Œé¢
- **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šDocker ä¸€é”®éƒ¨ç½²

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚    â”‚   åç«¯ API      â”‚    â”‚   Ollama LLM    â”‚
â”‚   (HTML/CSS/JS) â”‚â—„â”€â”€â–ºâ”‚   (FastAPI)     â”‚â—„â”€â”€â–ºâ”‚   (qwen2.5:7b)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·äº¤äº’       â”‚    â”‚   ä¸šåŠ¡é€»è¾‘       â”‚    â”‚   æ¨¡å‹æ¨ç†       â”‚
â”‚   - æ–‡æœ¬è¾“å…¥     â”‚    â”‚   - è§„åˆ™åŒ¹é…     â”‚    â”‚   - å†…å®¹åˆ†æ     â”‚
â”‚   - æ–‡ä»¶ä¸Šä¼      â”‚    â”‚   - API è°ƒç”¨     â”‚    â”‚   - æ•æ„Ÿåº¦åˆ¤æ–­   â”‚
â”‚   - ç»“æœå±•ç¤º     â”‚    â”‚   - ç»“æœæ•´åˆ     â”‚    â”‚   - ç»“æœè¾“å‡º     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯
- **FastAPI**: ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- **Uvicorn**: ASGI æœåŠ¡å™¨
- **Pydantic**: æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–
- **PyPDF2**: PDF æ–‡æ¡£è§£æ
- **python-docx**: DOCX æ–‡æ¡£è§£æ
- **antiword**: DOC æ–‡æ¡£è§£æå·¥å…·
- **pytesseract**: OCR æ–‡å­—è¯†åˆ«
- **Tesseract OCR**: å›¾ç‰‡æ–‡å­—è¯†åˆ«å¼•æ“
- **ACè‡ªåŠ¨æœº**: å¤šæ¨¡å¼å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•
- **DFA**: ç¡®å®šæ€§æœ‰é™è‡ªåŠ¨æœº
- **æ–‡æœ¬é¢„å¤„ç†**: å­—ç¬¦å½’ä¸€åŒ–å’Œå˜ä½“ç»Ÿä¸€

#### å‰ç«¯æŠ€æœ¯
- **HTML5**: è¯­ä¹‰åŒ–æ ‡è®°
- **CSS3**: ç°ä»£åŒ–æ ·å¼è®¾è®¡
- **JavaScript ES6+**: äº¤äº’é€»è¾‘
- **Fetch API**: HTTP è¯·æ±‚
- **Drag & Drop API**: æ–‡ä»¶æ‹–æ‹½ä¸Šä¼ 

#### å¤§æ¨¡å‹æŠ€æœ¯
- **Ollama**: æœ¬åœ° LLM è¿è¡Œç¯å¢ƒ
- **Qwen2.5:7b**: é€šä¹‰åƒé—® 2.5 ç‰ˆæœ¬ 7B å‚æ•°æ¨¡å‹ï¼ˆé‡åŒ–ç‰ˆæœ¬ï¼‰
- **Prompt Engineering**: æç¤ºè¯å·¥ç¨‹ä¼˜åŒ–

#### éƒ¨ç½²æŠ€æœ¯
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²
- **Docker Compose**: å¤šå®¹å™¨ç¼–æ’
- **WSL**: Windows å­ç³»ç»Ÿ Linux

## ğŸ“ é¡¹ç›®ç»“æ„

```
sensitive-detector/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ main.py                # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ start.sh               # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ Dockerfile             # Docker é•œåƒé…ç½®
â”‚   â””â”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ frontend/                   # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ index.html             # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ style.css              # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ script.js              # JavaScript é€»è¾‘
â”œâ”€â”€ docs/                       # æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md    # é¡¹ç›®ç»“æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md                 # API æ¥å£æ–‡æ¡£
â”‚   â”œâ”€â”€ ARCHITECTURE.md        # ç³»ç»Ÿæ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ BACKEND.md             # åç«¯æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ FRONTEND.md            # å‰ç«¯æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ TROUBLESHOOTING.md     # æ•…éšœæ’é™¤æŒ‡å—
â”‚   â”œâ”€â”€ RULE_MATCHING_ENGINE.md # è§„åˆ™åŒ¹é…å¼•æ“æ–‡æ¡£
â”‚   â””â”€â”€ WORD_LIBRARY_SELECTION.md # è¯åº“é€‰æ‹©æ–‡æ¡£
â”œâ”€â”€ word_libraries/             # æ•æ„Ÿè¯åº“
â”‚   â”œâ”€â”€ æ”¿æ²»ç±»å‹.txt
â”‚   â”œâ”€â”€ è‰²æƒ…ç±»å‹.txt
â”‚   â”œâ”€â”€ æš´æè¯åº“.txt
â”‚   â””â”€â”€ ...                    # å…¶ä»–è¯åº“æ–‡ä»¶
â”œâ”€â”€ demo/                       # æ¼”ç¤ºæ ·æœ¬
â”‚   â”œâ”€â”€ normal_samples/         # æ­£å¸¸æ–‡æœ¬æ ·æœ¬
â”‚   â””â”€â”€ sensitive_samples/      # æ•æ„Ÿæ–‡æœ¬æ ·æœ¬
â”œâ”€â”€ data/                       # æ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ ollama/                # Ollama æ¨¡å‹æ•°æ®
â”œâ”€â”€ docker-compose.yml          # Docker composeé…ç½®
â”œâ”€â”€ detection_config.json       # æ£€æµ‹é…ç½®
â”œâ”€â”€ LICENSE                     # å¼€æºè®¸å¯è¯
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â””â”€â”€ VERSION                     # ç‰ˆæœ¬ä¿¡æ¯
```

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

1. **æ–‡æœ¬æ£€æµ‹**
   - å®æ—¶æ–‡æœ¬æ•æ„Ÿè¯æ£€æµ‹
   - é»˜è®¤æ¨¡å¼ï¼šè§„åˆ™åŒ¹é…å¿«é€Ÿç­›é€‰ + å­˜ç–‘å†…å®¹å¤§æ¨¡å‹æ£€æµ‹
   - ä¸¥æ ¼æ¨¡å¼ï¼šè·³è¿‡è§„åˆ™åŒ¹é…ï¼Œç›´æ¥ä½¿ç”¨å¤§æ¨¡å‹æ£€æµ‹
   - å­—ç¬¦è®¡æ•°å’Œè¾“å…¥éªŒè¯

2. **æ–‡æ¡£æ£€æµ‹**
   - æ”¯æŒ TXTã€PDFã€DOCXã€DOC æ ¼å¼
   - æ”¯æŒå›¾ç‰‡OCRè¯†åˆ«ï¼ˆJPGã€PNGã€BMPã€GIFã€TIFFï¼‰
   - æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰
   - æ–‡æœ¬é•¿åº¦é™åˆ¶ï¼ˆ10000ä¸ªå­—ç¬¦ï¼‰
   - æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
   - ä¸¥æ ¼æ¨¡å¼ï¼šç›´æ¥ä½¿ç”¨å¤§æ¨¡å‹æ£€æµ‹

3. **æ™ºèƒ½æ£€æµ‹**
   - åŸºäºæ–‡æœ¬é¢„å¤„ç† + ACè‡ªåŠ¨æœº + DFA çš„æ•æ„Ÿè¯åŒ¹é…
   - å¤§è¯­è¨€æ¨¡å‹è¯­ä¹‰ç†è§£
   - è§„åˆ™åŒ¹é…å¿«é€Ÿç­›é€‰ + å­˜ç–‘å†…å®¹LLMæ™ºèƒ½æ£€æµ‹

4. **ç”¨æˆ·ç•Œé¢**
   - å“åº”å¼è®¾è®¡
   - æ ‡ç­¾é¡µåˆ‡æ¢
   - å®æ—¶é€šçŸ¥ç³»ç»Ÿ
   - é”®ç›˜å¿«æ·é”®æ”¯æŒ

### æ£€æµ‹æµç¨‹

#### æ–‡æœ¬æ£€æµ‹æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¾“å…¥æ–‡æœ¬] --> B{æ£€æµ‹æ¨¡å¼}
    B -->|ä¸¥æ ¼æ¨¡å¼| C[ç›´æ¥LLMæ£€æµ‹]
    B -->|æ™®é€šæ¨¡å¼| D[è§„åˆ™åŒ¹é…æ£€æµ‹]
    D --> E{è§„åˆ™åŒ¹é…ç»“æœ}
    E -->|å‘ç°æ•æ„Ÿè¯| F[LLMæ™ºèƒ½æ£€æµ‹]
    E -->|æœªå‘ç°æ•æ„Ÿè¯| G[è¿”å›æ­£å¸¸ç»“æœ]
    F --> H[LLMæ£€æµ‹ç»“æœ]
    C --> H
    H --> I[è¿”å›æœ€ç»ˆç»“æœ]
    G --> I
```

#### æ–‡æ¡£æ£€æµ‹æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·ä¸Šä¼ æ–‡æ¡£] --> B{æ–‡ä»¶ç±»å‹}
    B -->|TXT| C[ç›´æ¥è¯»å–æ–‡æœ¬]
    B -->|PDF| D[PyPDF2è§£æ]
    B -->|DOCX| E[python-docxè§£æ]
    B -->|DOC| F[antiwordå·¥å…·è§£æ]
    B -->|å›¾ç‰‡| G[OCRæ–‡å­—è¯†åˆ«]
    C --> H[æå–æ–‡æœ¬å†…å®¹]
    D --> H
    E --> H
    F --> H
    G --> H
    H --> I{æ–‡æœ¬æ˜¯å¦ä¸ºç©º}
    I -->|æ˜¯| J[è¿”å›é”™è¯¯]
    I -->|å¦| K[ä¸¥æ ¼æ¨¡å¼LLMæ£€æµ‹]
    K --> L[è¿”å›æ£€æµ‹ç»“æœ]
```

#### è§„åˆ™åŒ¹é…æ£€æµ‹è¯¦ç»†æµç¨‹

```mermaid
graph TD
    A[è¾“å…¥æ–‡æœ¬] --> B[æ–‡æœ¬é¢„å¤„ç†]
    B --> C[å­—ç¬¦å½’ä¸€åŒ–]
    C --> D[ACè‡ªåŠ¨æœºåˆç­›]
    D --> E[å¯ç–‘ç‰‡æ®µæå–]
    E --> F[DFAç²¾ç¡®åŒ¹é…]
    F --> G[ç»“æœåˆå¹¶]
    G --> H[è¿”å›åŒ¹é…ç»“æœ]
```

#### æ£€æµ‹æ¨¡å¼è¯´æ˜

**æ™®é€šæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰**ï¼š
- å…ˆä½¿ç”¨è§„åˆ™åŒ¹é…è¿›è¡Œå¿«é€Ÿç­›é€‰
- å¦‚æœå‘ç°æ•æ„Ÿè¯ï¼Œå†ä½¿ç”¨LLMè¿›è¡Œæ™ºèƒ½æ£€æµ‹
- å¦‚æœæœªå‘ç°æ•æ„Ÿè¯ï¼Œç›´æ¥è¿”å›"æ­£å¸¸"ç»“æœ
- å“åº”æ—¶é—´ï¼š5msï¼ˆè§„åˆ™åŒ¹é…ï¼‰+ 450msï¼ˆLLMæ£€æµ‹ï¼Œä»…åœ¨å‘ç°æ•æ„Ÿè¯æ—¶ï¼‰

**ä¸¥æ ¼æ¨¡å¼**ï¼š
- è·³è¿‡è§„åˆ™åŒ¹é…ï¼Œç›´æ¥ä½¿ç”¨LLMæ£€æµ‹æ‰€æœ‰å†…å®¹
- é€‚ç”¨äºæ£€æµ‹ç‡è¦æ±‚é«˜çš„åœºæ™¯
- å“åº”æ—¶é—´ï¼š450msï¼ˆæ‰€æœ‰å†…å®¹éƒ½ç»è¿‡LLMæ£€æµ‹ï¼‰

**æ–‡æ¡£æ£€æµ‹**ï¼š
- é»˜è®¤ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼ˆæ‰€æœ‰æ–‡æ¡£å†…å®¹éƒ½ç»è¿‡LLMæ£€æµ‹ï¼‰
- æ”¯æŒå¤šç§æ ¼å¼ï¼šTXTã€PDFã€DOCXã€DOCã€å›¾ç‰‡OCR
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼š10MB
- æ–‡æœ¬é•¿åº¦é™åˆ¶ï¼š10000ä¸ªå­—ç¬¦

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker & Docker Compose
- 8GB+ å†…å­˜ (è¿è¡Œ qwen2.5:7b é‡åŒ–æ¨¡å‹)
- 20GB+ ç£ç›˜ç©ºé—´
- GPUæ”¯æŒï¼ˆå¯é€‰ï¼Œç”¨äºåŠ é€Ÿæ¨ç†ï¼‰

### ä¸€é”®å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://osredm.com/p41569230/sensitive-detector-v1.git
cd sensitive-detector-v1

# 2. ä¸€é”®å¯åŠ¨ï¼ˆé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼‰
docker-compose up

# 3. è®¿é—®ç³»ç»Ÿ
# å‰ç«¯ç•Œé¢: http://localhost:8000
# API æ–‡æ¡£: http://localhost:8000/api/docs
# å¥åº·æ£€æŸ¥: http://localhost:8000/health
```

> **æ³¨æ„äº‹é¡¹ï¼š**
> - é¦–æ¬¡å¯åŠ¨éœ€è¦ä¸‹è½½ AI æ¨¡å‹ï¼ˆçº¦ 4GBï¼‰ï¼Œè¯·ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
> - å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œè¯·ç¡®ä¿ Docker æœåŠ¡æ­£åœ¨è¿è¡Œ
> - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ `docker-compose up -d` åå°è¿è¡Œ
> - æ•°æ®å·ç¡®ä¿æ¨¡å‹æŒä¹…åŒ–ï¼Œé‡å¯åæ— éœ€é‡æ–°ä¸‹è½½

### æŸ¥çœ‹æ¨¡å‹çŠ¶æ€

```bash
# æŸ¥çœ‹å·²ä¸‹è½½çš„æ¨¡å‹
curl -s http://localhost:11434/api/tags | jq '.models[].name'

# æŸ¥çœ‹æ¨¡å‹è¯¦ç»†ä¿¡æ¯
curl -s http://localhost:11434/api/tags | jq .

# åœ¨å®¹å™¨å†…æŸ¥çœ‹æ¨¡å‹
docker exec ollama-service ollama list
```

**é¦–æ¬¡å¯åŠ¨æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨**ï¼š
- âœ… æ£€æŸ¥ Ollama æœåŠ¡çŠ¶æ€
- âœ… æ£€æŸ¥æ¨¡å‹æ˜¯å¦å­˜åœ¨
- âœ… å¦‚æœæ¨¡å‹ä¸å­˜åœ¨ï¼Œè‡ªåŠ¨ä¸‹è½½ qwen2.5:7b-instruct-q4_K_Mï¼ˆ~4.7GBï¼‰
- âœ… æ˜¾ç¤ºä¸‹è½½è¿›åº¦å’Œé¢„è®¡æ—¶é—´
- âœ… å•æ¬¡é¢„çƒ­æ¨¡å‹ï¼ˆé¿å…å†·å¯åŠ¨å»¶è¿Ÿï¼‰
- âœ… æµ‹è¯•æ¨¡å‹å¯ç”¨æ€§
- âœ… å¯åŠ¨ FastAPI æœåŠ¡

```

è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒ [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)ã€‚

## ğŸ“š API æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8000`
- **Content-Type**: `application/json`
- **å­—ç¬¦ç¼–ç **: UTF-8

### æ¥å£åˆ—è¡¨

#### 1. æ–‡æœ¬æ£€æµ‹

**æ¥å£åœ°å€**: `POST /detect/text`

**è¯·æ±‚å‚æ•°**:
```json
{
  "text": "éœ€è¦æ£€æµ‹çš„æ–‡æœ¬å†…å®¹"
}
```

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "original_text": "åŸå§‹æ–‡æœ¬",
    "rule_detected": ["æ•æ„Ÿè¯1", "æ•æ„Ÿè¯2"],
    "llm_detected": "æ•æ„Ÿ",
    "final_result": "æ•æ„Ÿ"
  }
}
```

**çŠ¶æ€ç **:
- `200`: æ£€æµ‹æˆåŠŸ
- `400`: è¯·æ±‚å‚æ•°é”™è¯¯
- `500`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

#### 2. æ–‡æ¡£æ£€æµ‹

**æ¥å£åœ°å€**: `POST /detect/document`

**è¯·æ±‚å‚æ•°**: `multipart/form-data`
- `file`: ä¸Šä¼ çš„æ–‡æ¡£æ–‡ä»¶

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "filename": "document.pdf",
    "file_type": "pdf",
    "text_length": 10000,
    "rule_detected": [],
    "llm_detected": "æ­£å¸¸",
    "final_result": "æ­£å¸¸"
  }
}
```

#### 3. è¯åº“ç®¡ç†

**è·å–è¯åº“åˆ—è¡¨**: `GET /word-libraries`

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": [
    {
      "id": "æ”¿æ²»ç±»å‹",
      "name": "æ”¿æ²»ç±»å‹",
      "filename": "æ”¿æ²»ç±»å‹.txt",
      "word_count": 1234,
      "created_time": "2025-01-01T00:00:00Z",
      "modified_time": "2025-01-01T00:00:00Z",
      "size": 12345
    }
  ]
}
```

**åˆ›å»ºè¯åº“**: `POST /word-libraries`

**è¯·æ±‚å‚æ•°**:
```json
{
  "name": "æ–°è¯åº“åç§°",
  "words": ["æ•æ„Ÿè¯1", "æ•æ„Ÿè¯2", "æ•æ„Ÿè¯3"]
}
```

**è·å–è¯åº“å†…å®¹**: `GET /word-libraries/{name}`

**æ›´æ–°è¯åº“**: `PUT /word-libraries/{name}`

**åˆ é™¤è¯åº“**: `DELETE /word-libraries/{name}`

**æ›´æ–°æ£€æµ‹è¯åº“é…ç½®**: `POST /detection-libraries/update`

**è·å–æ£€æµ‹è¯åº“çŠ¶æ€**: `GET /detection-libraries/status`

#### 4. æ¨¡å‹ç®¡ç†

**è·å–æ¨¡å‹çŠ¶æ€**: `GET /model-status`

**é¢„çƒ­æ¨¡å‹**: `POST /warm-up-model` 

#### 5. å¥åº·æ£€æŸ¥

**æ¥å£åœ°å€**: `GET /health`

**å“åº”æ ¼å¼**:
```json
{
  "status": "healthy",
  "timestamp": "2025-01-01T00:00:00Z"
}
```

### é”™è¯¯å¤„ç†

æ‰€æœ‰æ¥å£éµå¾ªç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼ï¼š

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "é”™è¯¯æè¿°",
    "details": "è¯¦ç»†é”™è¯¯ä¿¡æ¯"
  }
}
```

## ğŸ¨ å‰ç«¯ç•Œé¢

### ç•Œé¢ç»“æ„

```
æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿ
â”œâ”€â”€ é¡¶éƒ¨å¯¼èˆªæ 
â”‚   â”œâ”€â”€ ç³»ç»Ÿæ ‡é¢˜
â”‚   â””â”€â”€ æ ‡ç­¾é¡µåˆ‡æ¢
â”œâ”€â”€ æ–‡æœ¬æ£€æµ‹æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ æ–‡æœ¬è¾“å…¥åŒºåŸŸ
â”‚   â”œâ”€â”€ ä¸¥æ ¼æ¨¡å¼é€‰æ‹©
â”‚   â”œâ”€â”€ å­—ç¬¦è®¡æ•°æ˜¾ç¤º
â”‚   â”œâ”€â”€ æ£€æµ‹æŒ‰é’®
â”‚   â””â”€â”€ æ£€æµ‹ç»“æœå±•ç¤º
â”œâ”€â”€ æ–‡æ¡£æ£€æµ‹æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ
â”‚   â”œâ”€â”€ æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
â”‚   â”œâ”€â”€ æ–‡ä»¶ä¿¡æ¯æ˜¾ç¤º
â”‚   â”œâ”€â”€ æ£€æµ‹æŒ‰é’®
â”‚   â””â”€â”€ æ£€æµ‹ç»“æœå±•ç¤º
â””â”€â”€ è¯åº“ç®¡ç†æ ‡ç­¾é¡µ
    â”œâ”€â”€ ä½¿ç”¨è¯åº“åˆ—è¡¨
    â”‚   â”œâ”€â”€ å·²é€‰è¯åº“æ˜¾ç¤º
    â”‚   â”œâ”€â”€ è¯åº“ç»Ÿè®¡ä¿¡æ¯
    â”‚   â””â”€â”€ æ›´æ–°æ£€æµ‹è¯åº“æŒ‰é’®
    â”œâ”€â”€ è¯åº“åˆ—è¡¨ç®¡ç†
    â”‚   â”œâ”€â”€ è¯åº“åˆ—è¡¨æ˜¾ç¤º
    â”‚   â”œâ”€â”€ åˆ›å»ºæ–°è¯åº“æŒ‰é’®
    â”‚   â”œâ”€â”€ ç¼–è¾‘è¯åº“åŠŸèƒ½
    â”‚   â””â”€â”€ åˆ é™¤è¯åº“åŠŸèƒ½
    â””â”€â”€ è¯åº“ç¼–è¾‘å™¨
        â”œâ”€â”€ è¯åº“åç§°è¾“å…¥
        â”œâ”€â”€ æ•æ„Ÿè¯åˆ—è¡¨ç¼–è¾‘
        â”œâ”€â”€ æ•æ„Ÿè¯è®¡æ•°æ˜¾ç¤º
        â””â”€â”€ ä¿å­˜/å–æ¶ˆæŒ‰é’®
```

### äº¤äº’ç‰¹æ€§

1. **å“åº”å¼è®¾è®¡**
   - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
   - å¼¹æ€§å¸ƒå±€å’Œåª’ä½“æŸ¥è¯¢

2. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
   - åŠ è½½çŠ¶æ€æŒ‡ç¤º
   - å®æ—¶é€šçŸ¥ç³»ç»Ÿ
   - å¹³æ»‘æ»šåŠ¨åŠ¨ç”»
   - é”®ç›˜å¿«æ·é”®æ”¯æŒ

3. **æ–‡ä»¶å¤„ç†**
   - æ‹–æ‹½ä¸Šä¼ 
   - æ–‡ä»¶ç±»å‹éªŒè¯
   - æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰
   - æ–‡æœ¬é•¿åº¦é™åˆ¶ï¼ˆ10000ä¸ªå­—ç¬¦ï¼‰

### æ ·å¼è®¾è®¡

- **è®¾è®¡é£æ ¼**: ç°ä»£åŒ–æ‰å¹³è®¾è®¡
- **è‰²å½©æ–¹æ¡ˆ**: è“è‰²ä¸»é¢˜ï¼Œç»¿è‰²/çº¢è‰²çŠ¶æ€æŒ‡ç¤º
- **å­—ä½“**: ç³»ç»Ÿé»˜è®¤å­—ä½“æ ˆ
- **å›¾æ ‡**: Font Awesome å›¾æ ‡åº“

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `OLLAMA_BASE_URL` | `http://ollama:11434` | Ollama æœåŠ¡åœ°å€ï¼ˆå®¹å™¨å†…ï¼‰ |
| `OLLAMA_MODEL` | `qwen2.5:7b-instruct-q4_K_M` | ä½¿ç”¨çš„ LLM æ¨¡å‹ï¼ˆæ¨èé‡åŒ–ç‰ˆæœ¬ï¼‰ |
| `CORS_ALLOW_ORIGINS` | `*` | CORS å…è®¸çš„æº |
| `PYTHONUNBUFFERED` | `1` | Python è¾“å‡ºç¼“å†² |
| `HEALTH_CHECK_ENABLED` | `true` | å¯ç”¨å¥åº·æ£€æŸ¥ |
| `OLLAMA_HOST` | `0.0.0.0` | Ollama æœåŠ¡ç›‘å¬åœ°å€ |
| `OLLAMA_NUM_PARALLEL` | `1` | Ollama å¹¶è¡Œè¯·æ±‚æ•° |
| `OLLAMA_MAX_LOADED_MODELS` | `1` | Ollama æœ€å¤§åŠ è½½æ¨¡å‹æ•° |

### Docker é…ç½®


```yaml
services:
  # Ollama æœåŠ¡ï¼ˆç”Ÿäº§ç¯å¢ƒç‹¬ç«‹å®¹å™¨ï¼‰
  ollama:
    image: ollama/ollama:latest
    container_name: ollama-service
    ports:
      - "11434:11434"
    volumes:
      # æ¨¡å‹æ•°æ®æŒä¹…åŒ–
      - ollama_data:/root/.ollama
    environment:
      - OLLAMA_HOST=0.0.0.0
      - OLLAMA_NUM_PARALLEL=1
      - OLLAMA_MAX_LOADED_MODELS=1
      - OLLAMA_FLASH_ATTENTION=1
      - OLLAMA_KEEP_ALIVE=5m
      - OLLAMA_GPU_MEMORY_FRACTION=0.8
    restart: unless-stopped
    runtime: nvidia
    deploy:
      resources:
        limits:
          memory: 12G
          cpus: '8.0'
        reservations:
          memory: 6G
          cpus: '4.0' 
    healthcheck:
      test: ["CMD", "ollama", "list"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

  # æ•æ„Ÿè¯æ£€æµ‹æœåŠ¡
  sensitive-detector:
    build: ./backend
    container_name: sensitive-detector
    ports:
      - "8000:8000"
    volumes:
      # é™æ€æ–‡ä»¶ç›®å½•
      - ./frontend:/app/frontend
      # è¯åº“ç®¡ç†ç›®å½•
      - ./word_libraries:/app/word_libraries
      # æ£€æµ‹é…ç½®æ–‡ä»¶
      - ./detection_config.json:/app/detection_config.json
    environment:
      - PYTHONUNBUFFERED=1
      - OLLAMA_BASE_URL=http://ollama:11434
      - OLLAMA_MODEL=qwen2.5:7b-instruct-q4_K_M
      - CORS_ALLOW_ORIGINS=*
      - HEALTH_CHECK_ENABLED=true
    depends_on:
      ollama:
        condition: service_healthy
    restart: unless-stopped
    deploy:
      resources:
        limits:
          memory: 2G
          cpus: '1.0'
        reservations:
          memory: 1G
          cpus: '0.5'
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

# å®šä¹‰ volumes
volumes:
  ollama_data:
    name: ollama_models
```

**ä¼˜åŠ¿**ï¼š
- âœ… å®Œå…¨å®¹å™¨åŒ–ï¼Œæ— éœ€å¤–éƒ¨ä¾èµ–
- âœ… Dockerè‡ªåŠ¨ç®¡ç†çš„æŒä¹…åŒ–å­˜å‚¨
- âœ… è·¨å¹³å°å…¼å®¹æ€§å¥½
- âœ… èµ„æºé™åˆ¶å’Œå¥åº·æ£€æŸ¥
- âœ… æœåŠ¡ä¾èµ–ç®¡ç†
- âœ… æ”¯æŒæ•°æ®å¤‡ä»½å’Œæ¢å¤
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**Dockerå‘½åå·è¯´æ˜**ï¼š
- ä½¿ç”¨Dockerè‡ªåŠ¨ç®¡ç†çš„å‘½åå· `ollama_models`
- æ¨¡å‹æ•°æ®å­˜å‚¨åœ¨Dockerå†…éƒ¨ï¼Œè‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸ
- æ”¯æŒè·¨å¹³å°éƒ¨ç½²ï¼Œæ— éœ€æ‹…å¿ƒè·¯å¾„é—®é¢˜
- å¯é€šè¿‡ `docker volume` å‘½ä»¤è¿›è¡Œå¤‡ä»½å’Œç®¡ç†

### é‡åŒ–æ¨¡å‹é…ç½®


**ä¸‹è½½é‡åŒ–æ¨¡å‹ï¼š**
```bash
# æ¨èä½¿ç”¨Qwen2.5 7B INT4é‡åŒ–ç‰ˆæœ¬
ollama pull qwen2.5:7b-instruct-q4_K_M

```

è¯¦ç»†é…ç½®è¯·å‚è€ƒï¼š[ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—](docs/PRODUCTION_DEPLOYMENT.md)

### æ•æ„Ÿè¯é…ç½®

**é»˜è®¤è¯åº“ä½ç½®**: `word_libraries/` ç›®å½•

ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ `word_libraries/` ç›®å½•ä¸­çš„æ‰€æœ‰ `.txt` æ–‡ä»¶ä½œä¸ºé»˜è®¤è¯åº“ã€‚å¦‚æœç›®å½•ä¸ºç©ºï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒ…å«åŸºç¡€æ•æ„Ÿè¯çš„é»˜è®¤è¯åº“ã€‚

**è¯åº“æ ¼å¼è¦æ±‚**:
- æ¯è¡Œä¸€ä¸ªæ•æ„Ÿè¯
- UTF-8 ç¼–ç 
- æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡
- æ–‡ä»¶æ‰©å±•åå¿…é¡»ä¸º `.txt`

**è¯åº“æ–‡ä»¶ç¤ºä¾‹** (`word_libraries/æ”¿æ²»æ•æ„Ÿè¯.txt`):
```
æ³•è¥¿æ–¯
çº³ç²¹
æç«¯ä¸»ä¹‰
ææ€–ä¸»ä¹‰
```

**è¯åº“æ–‡ä»¶ç¤ºä¾‹** (`word_libraries/æš´åŠ›è¯æ±‡.txt`):
```
æš´åŠ›
è¾±éª‚
å¨èƒ
ä¼¤å®³
```

### æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜

1. **å®¹å™¨å¯åŠ¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥å®¹å™¨çŠ¶æ€
   docker-compose ps
   
   # æŸ¥çœ‹é”™è¯¯æ—¥å¿—
   docker-compose logs ollama
   docker-compose logs sensitive-detector
   ```

2. **æ¨¡å‹ä¸‹è½½å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç½‘ç»œè¿æ¥
   docker-compose exec ollama curl -I https://ollama.ai
   
   # æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹
   docker-compose exec ollama ollama pull qwen2.5:7b-instruct-q4_K_M
   ```

3. **æœåŠ¡å¥åº·æ£€æŸ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥æœåŠ¡çŠ¶æ€
   curl http://localhost:8000/health
   curl http://localhost:11434/api/tags
   
   # é‡å¯æœåŠ¡
   docker-compose restart
   ```

4. **èµ„æºä¸è¶³**
   ```bash
   # æ£€æŸ¥ç³»ç»Ÿèµ„æº
   free -h
   df -h
   
   # è°ƒæ•´èµ„æºé™åˆ¶ï¼ˆç¼–è¾‘ docker-compose.ymlï¼‰
   ```


## ğŸš¢ éƒ¨ç½²æŒ‡å—


**ä¸€é”®éƒ¨ç½²**:
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://osredm.com/p41569230/sensitive-detector-v1.git
cd sensitive-detector-v1

# 2. ä¸€é”®å¯åŠ¨ï¼ˆé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼‰
docker-compose up

# 3. è®¿é—®ç³»ç»Ÿ
# å‰ç«¯ç•Œé¢: http://localhost:8000
# API æ–‡æ¡£: http://localhost:8000/api/docs
# å¥åº·æ£€æŸ¥: http://localhost:8000/health
```

### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linux (Ubuntu 20.04+ æ¨è) æˆ– Windows WSL
- **Docker**: 20.10+ 
- **Docker Compose**: 2.0+
- **å†…å­˜**: 8GB+ (æ¨è 16GBï¼Œè¿è¡Œ qwen2.5:7b é‡åŒ–æ¨¡å‹)
- **ç£ç›˜**: 20GB+ å¯ç”¨ç©ºé—´

### æœåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ollama å®¹å™¨    â”‚    â”‚   åº”ç”¨å®¹å™¨       â”‚
â”‚   ollama-serviceâ”‚â”€â”€â”€â”€â”‚sensitive-detectorâ”‚
â”‚   16GB å†…å­˜é™åˆ¶  â”‚    â”‚   2GB å†…å­˜é™åˆ¶   â”‚
â”‚   12 æ ¸å¿ƒ CPU   â”‚    â”‚   1 æ ¸å¿ƒ CPU    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   æ¨¡å‹æ•°æ®       â”‚    â”‚   é…ç½®æ–‡ä»¶       â”‚
                    â”‚   ./data/ollama  â”‚    â”‚   Volumes       â”‚
                    â”‚   æŒä¹…åŒ–å­˜å‚¨     â”‚    â”‚   æŒä¹…åŒ–å­˜å‚¨     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœåŠ¡ç®¡ç†

1. **æŸ¥çœ‹æœåŠ¡çŠ¶æ€**
   ```bash
   docker-compose ps
   ```

2. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   # æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
   docker-compose logs -f
   
   # æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
   docker-compose logs -f ollama
   docker-compose logs -f sensitive-detector
   ```

3. **ç®¡ç†æ¨¡å‹**
   ```bash
   # æŸ¥çœ‹å·²ä¸‹è½½çš„æ¨¡å‹
   docker-compose exec ollama ollama list
   
   # ä¸‹è½½æ–°æ¨¡å‹
   docker-compose exec ollama ollama pull qwen2.5:7b-instruct-q4_K_M
   
   # åˆ é™¤æ¨¡å‹
   docker-compose exec ollama ollama rm qwen2.5:7b-instruct-q4_K_M
   ```

4. **é‡å¯æœåŠ¡**
   ```bash
   # é‡å¯æ‰€æœ‰æœåŠ¡
   docker-compose restart
   
   # é‡å¯ç‰¹å®šæœåŠ¡
   docker-compose restart ollama
   docker-compose restart sensitive-detector
   ```

5. **åœæ­¢æœåŠ¡**
   ```bash
   docker-compose down
   ```

6. **Dockerå·ç®¡ç†**
   ```bash
   # æŸ¥çœ‹å·ä¿¡æ¯
   docker volume inspect ollama_models
   
   # å¤‡ä»½æ¨¡å‹æ•°æ®
   docker run --rm -v ollama_models:/data -v $(pwd):/backup alpine tar czf /backup/ollama-backup.tar.gz -C /data .
   
   # æ¢å¤æ¨¡å‹æ•°æ®
   docker run --rm -v ollama_models:/data -v $(pwd):/backup alpine tar xzf /backup/ollama-backup.tar.gz -C /data
   
   # åˆ é™¤å·ï¼ˆè°¨æ…æ“ä½œï¼‰
   docker volume rm ollama_models
   ```

7. **æ¨¡å‹ä¸‹è½½è¿›åº¦ç›‘æ§**
   ```bash
   # æŸ¥çœ‹æ•æ„Ÿè¯æ£€æµ‹æœåŠ¡æ—¥å¿—
   docker logs sensitive-detector -f
   
   # æŸ¥çœ‹OllamaæœåŠ¡æ—¥å¿—
   docker logs ollama-service -f
   
   # æ£€æŸ¥æ¨¡å‹æ˜¯å¦å·²ä¸‹è½½
   docker exec ollama-service ollama list
   ```

### å¥åº·æ£€æŸ¥

- **åº”ç”¨å¥åº·æ£€æŸ¥**: http://localhost:8000/health
- **Ollama æœåŠ¡æ£€æŸ¥**: http://localhost:11434/api/tags
- **Web ç•Œé¢**: http://localhost:8000
- **API æ–‡æ¡£**: http://localhost:8000/api/docs

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒæ­å»º

1. **æœ¬åœ°å¼€å‘ç¯å¢ƒ**
   ```bash
   # 1. å®‰è£… Python 3.10+
   sudo apt update
   sudo apt install python3.10 python3.10-venv
   
   # 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
   python3.10 -m venv venv
   source venv/bin/activate
   
   # 3. å®‰è£…ä¾èµ–
   pip install -r backend/requirements.txt
   
   # 4. å¯åŠ¨ Ollama
   ollama serve &
   ollama pull qwen2.5:7b-instruct-q4_K_M
   
   # 5. å¯åŠ¨åç«¯æœåŠ¡
   cd backend
   uvicorn main:app --reload --host 0.0.0.0 --port 8000
   
   # 6. å¯åŠ¨å‰ç«¯æœåŠ¡ (æ–°ç»ˆç«¯)
   cd frontend
   python -m http.server 3000
   ```

2. **ä»£ç ç»“æ„**
   ```
   sensitive-detector/
   â”œâ”€â”€ backend/
   â”‚   â”œâ”€â”€ main.py              # FastAPI åº”ç”¨ä¸»æ–‡ä»¶
   â”‚   â”œâ”€â”€ requirements.txt     # Python ä¾èµ–
   â”‚   â”œâ”€â”€ Dockerfile          # Docker æ„å»ºæ–‡ä»¶
   â”‚   â””â”€â”€ start.sh            # å¯åŠ¨è„šæœ¬
   â”œâ”€â”€ frontend/
   â”‚   â”œâ”€â”€ index.html          # ä¸»é¡µé¢
   â”‚   â”œâ”€â”€ style.css           # æ ·å¼æ–‡ä»¶
   â”‚   â””â”€â”€ script.js           # äº¤äº’é€»è¾‘
   â”œâ”€â”€ word_libraries/         # æ•æ„Ÿè¯åº“ç›®å½•
   â”‚   â”œâ”€â”€ æ”¿æ²»ç±»å‹.txt
   â”‚   â”œâ”€â”€ è‰²æƒ…ç±»å‹.txt
   â”‚   â””â”€â”€ ...                 # å…¶ä»–è¯åº“æ–‡ä»¶
   â”œâ”€â”€ data/                   # æ•°æ®ç›®å½•
   â”‚   â””â”€â”€ ollama/            # Ollama æ¨¡å‹æ•°æ®
   â”œâ”€â”€ demo/                   # æ¼”ç¤ºæ–‡ä»¶
   â”‚   â”œâ”€â”€ normal_samples/     # æ­£å¸¸æ ·æœ¬
   â”‚   â””â”€â”€ sensitive_samples/  # æ•æ„Ÿæ ·æœ¬
   â”œâ”€â”€ docs/                   # æŠ€æœ¯æ–‡æ¡£
   â”‚   â”œâ”€â”€ API.md
   â”‚   â”œâ”€â”€ ARCHITECTURE.md
   â”‚   â””â”€â”€ ...                 # å…¶ä»–æ–‡æ¡£
   â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’æ–‡ä»¶
   â”œâ”€â”€ detection_config.json   # æ£€æµ‹é…ç½®æ–‡ä»¶
   â”œâ”€â”€ VERSION                 # ç‰ˆæœ¬ä¿¡æ¯
   â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
   ```

### ä»£ç è§„èŒƒ

1. **Python ä»£ç è§„èŒƒ**
   - éµå¾ª PEP 8 æ ‡å‡†
   - ä½¿ç”¨ç±»å‹æ³¨è§£
   - å‡½æ•°å’Œç±»æ·»åŠ æ–‡æ¡£å­—ç¬¦ä¸²
   - ä½¿ç”¨ Black ä»£ç æ ¼å¼åŒ–

2. **JavaScript ä»£ç è§„èŒƒ**
   - ä½¿ç”¨ ES6+ è¯­æ³•
   - ä½¿ç”¨ const/let æ›¿ä»£ var
   - å‡½æ•°ä½¿ç”¨ç®­å¤´å‡½æ•°
   - æ·»åŠ é€‚å½“çš„æ³¨é‡Š

3. **Git æäº¤è§„èŒƒ**
   - feat: æ–°åŠŸèƒ½
   - fix: ä¿®å¤é—®é¢˜
   - docs: æ–‡æ¡£æ›´æ–°
   - style: ä»£ç æ ¼å¼è°ƒæ•´
   - refactor: ä»£ç é‡æ„
   - test: æµ‹è¯•ç›¸å…³
   - chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨


## ğŸ“š æŠ€æœ¯æ–‡æ¡£

### è¯¦ç»†æ–‡æ¡£

- **[é¡¹ç›®ç»“æ„æ–‡æ¡£](docs/PROJECT_STRUCTURE.md)** - å®Œæ•´çš„é¡¹ç›®ç»“æ„å’ŒæŠ€æœ¯æ ˆè¯´æ˜
- **[API æ–‡æ¡£](docs/API.md)** - å®Œæ•´çš„ API æ¥å£æ–‡æ¡£
- **[ç³»ç»Ÿæ¶æ„æ–‡æ¡£](docs/ARCHITECTURE.md)** - ç³»ç»Ÿæ¶æ„è®¾è®¡è¯´æ˜
- **[åç«¯æŠ€æœ¯æ–‡æ¡£](docs/BACKEND.md)** - åç«¯å®ç°æŠ€æœ¯æ–‡æ¡£
- **[å‰ç«¯æŠ€æœ¯æ–‡æ¡£](docs/FRONTEND.md)** - å‰ç«¯å®ç°æŠ€æœ¯æ–‡æ¡£
- **[è§„åˆ™åŒ¹é…å¼•æ“](docs/RULE_MATCHING_ENGINE.md)** - è§„åˆ™åŒ¹é…ç®—æ³•æ–‡æ¡£
- **[è¯åº“é€‰æ‹©æŒ‡å—](docs/WORD_LIBRARY_SELECTION.md)** - æ•æ„Ÿè¯åº“é€‰æ‹©å’Œä½¿ç”¨
- **[æ•…éšœæ’é™¤æŒ‡å—](docs/TROUBLESHOOTING.md)** - å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ

### å¿«é€Ÿå‚è€ƒ

- **éƒ¨ç½²å‘½ä»¤**: `docker-compose up` (ä¸€é”®å¯åŠ¨)
- **åå°è¿è¡Œ**: `docker-compose up -d`
- **å¥åº·æ£€æŸ¥**: `curl http://localhost:8000/health`
- **APIæ–‡æ¡£**: `http://localhost:8000/api/docs`
- **å‰ç«¯ç•Œé¢**: `http://localhost:8000`
- **æœåŠ¡çŠ¶æ€**: `docker-compose ps`
- **æŸ¥çœ‹æ—¥å¿—**: `docker-compose logs -f`
- **å·ç®¡ç†**: `docker volume inspect ollama_models`

### è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: [sai]
- **é‚®ç®±**: [986133953@qq.com]

### è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

**æœ€åæ›´æ–°**: 2025å¹´10æœˆ
**ç‰ˆæœ¬**: v1.0.0
