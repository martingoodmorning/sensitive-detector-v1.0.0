# æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº FastAPI + Ollama çš„æ™ºèƒ½æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿï¼Œæ”¯æŒæ–‡æœ¬å’Œæ–‡æ¡£æ£€æµ‹ï¼Œå…·å¤‡è§„åˆ™åŒ¹é…å’Œå¤§è¯­è¨€æ¨¡å‹åŒé‡æ£€æµ‹èƒ½åŠ›ã€‚

é¡¹ç›®å·²ä¸Šä¼  https://gitee.com/saisai5203/sensitive-detector-v1.0.0.git

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [å‰ç«¯ç•Œé¢](#å‰ç«¯ç•Œé¢)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„å†…å®¹å®‰å…¨æ£€æµ‹å¹³å°ï¼Œç»“åˆäº†ä¼ ç»Ÿçš„è§„åˆ™åŒ¹é…ç®—æ³•å’Œå…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›å‡†ç¡®ã€å¯é çš„æ•æ„Ÿå†…å®¹è¯†åˆ«æœåŠ¡ã€‚

### æ ¸å¿ƒä»·å€¼

- **åŒé‡æ£€æµ‹**ï¼šè§„åˆ™åŒ¹é…å¿«é€Ÿç­›é€‰ + å­˜ç–‘å†…å®¹LLMæ™ºèƒ½æ£€æµ‹
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ–‡æœ¬ã€PDFã€DOCXã€DOC æ–‡æ¡£ + å›¾ç‰‡OCRè¯†åˆ«
- **å®æ—¶æ£€æµ‹**ï¼šæ¯«ç§’çº§å“åº”æ—¶é—´ã€‚å•ä¸ªè¯­å¥æ­£å¸¸å“åº”æ—¶é—´çº¦5msï¼Œå­˜ç–‘å†…å®¹å•æ¬¡å“åº”æ—¶é—´çº¦450msï¼Œè¿ç»­å“åº”æ—¶é—´çº¦150msï¼Œé€‚ç”¨äºå®æ—¶æ€§è¦æ±‚é«˜åœºæ™¯ã€‚
- **æ”¯æŒä¸¥æ ¼æ¨¡å¼**ï¼šå–æ¶ˆè§„åˆ™åŒ¹é…å¿«é€Ÿé¢„ç­›ï¼Œæ‰€æœ‰è¾“å…¥å‡ä½¿ç”¨å¤§æ¨¡å‹æ£€æµ‹ï¼Œé€‚ç”¨äºæ£€æµ‹ç‡è¦æ±‚é«˜çš„åœºæ™¯ã€‚
- **æ•æ„Ÿè¯åº“ç®¡ç†**ï¼šæ”¯æŒæ•æ„Ÿè¯åº“é€‰æ‹©ã€æ„å»ºã€ç¼–è¾‘ã€ç§»é™¤ç­‰åŠŸèƒ½ï¼Œæ“ä½œç®€æ´å‹å¥½ã€‚
- **å¤§æ¨¡å‹ä¼˜åŒ–**ï¼šLLMä½¿ç”¨Qwen7B INT4é‡åŒ–æ¨¡å‹
- **Webç•Œé¢**ï¼šç®€æ´ç¾è§‚çš„ Web ç•Œé¢
- **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šDocker ä¸€é”®éƒ¨ç½²

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚    â”‚   åç«¯ API      â”‚    â”‚   Ollama LLM    â”‚
â”‚   (HTML/CSS/JS) â”‚â—„â”€â”€â–ºâ”‚   (FastAPI)     â”‚â—„â”€â”€â–ºâ”‚   (qwen2.5:7b)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·äº¤äº’       â”‚    â”‚   ä¸šåŠ¡é€»è¾‘       â”‚    â”‚   æ¨¡å‹æ¨ç†       â”‚
â”‚   - æ–‡æœ¬è¾“å…¥     â”‚    â”‚   - è§„åˆ™åŒ¹é…     â”‚    â”‚   - å†…å®¹åˆ†æ     â”‚
â”‚   - æ–‡ä»¶ä¸Šä¼      â”‚    â”‚   - API è°ƒç”¨     â”‚    â”‚   - æ•æ„Ÿåº¦åˆ¤æ–­   â”‚
â”‚   - ç»“æœå±•ç¤º     â”‚    â”‚   - ç»“æœæ•´åˆ     â”‚    â”‚   - ç»“æœè¾“å‡º     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯
- **FastAPI**: ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- **Uvicorn**: ASGI æœåŠ¡å™¨
- **Pydantic**: æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–
- **PyPDF2**: PDF æ–‡æ¡£è§£æ
- **python-docx**: DOCX æ–‡æ¡£è§£æ
- **antiword**: DOC æ–‡æ¡£è§£æå·¥å…·
- **pytesseract**: OCR æ–‡å­—è¯†åˆ«
- **Tesseract OCR**: å›¾ç‰‡æ–‡å­—è¯†åˆ«å¼•æ“
- **ACè‡ªåŠ¨æœº**: å¤šæ¨¡å¼å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•
- **DFA**: ç¡®å®šæ€§æœ‰é™è‡ªåŠ¨æœº
- **æ–‡æœ¬é¢„å¤„ç†**: å­—ç¬¦å½’ä¸€åŒ–å’Œå˜ä½“ç»Ÿä¸€

#### å‰ç«¯æŠ€æœ¯
- **HTML5**: è¯­ä¹‰åŒ–æ ‡è®°
- **CSS3**: ç°ä»£åŒ–æ ·å¼è®¾è®¡
- **JavaScript ES6+**: äº¤äº’é€»è¾‘
- **Fetch API**: HTTP è¯·æ±‚
- **Drag & Drop API**: æ–‡ä»¶æ‹–æ‹½ä¸Šä¼ 

#### AI æŠ€æœ¯
- **Ollama**: æœ¬åœ° LLM è¿è¡Œç¯å¢ƒ
- **Qwen2.5:7b**: é€šä¹‰åƒé—® 2.5 ç‰ˆæœ¬ 7B å‚æ•°æ¨¡å‹ï¼ˆé‡åŒ–ç‰ˆæœ¬ï¼‰
- **Prompt Engineering**: æç¤ºè¯å·¥ç¨‹ä¼˜åŒ–

#### éƒ¨ç½²æŠ€æœ¯
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²
- **Docker Compose**: å¤šå®¹å™¨ç¼–æ’
- **WSL**: Windows å­ç³»ç»Ÿ Linux

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

1. **æ–‡æœ¬æ£€æµ‹**
   - å®æ—¶æ–‡æœ¬æ•æ„Ÿè¯æ£€æµ‹
   - é»˜è®¤æ¨¡å¼ï¼šè§„åˆ™åŒ¹é…å¿«é€Ÿç­›é€‰ + å­˜ç–‘å†…å®¹å¤§æ¨¡å‹æ£€æµ‹
   - ä¸¥æ ¼æ¨¡å¼ï¼šè·³è¿‡è§„åˆ™åŒ¹é…ï¼Œç›´æ¥ä½¿ç”¨å¤§æ¨¡å‹æ£€æµ‹
   - å­—ç¬¦è®¡æ•°å’Œè¾“å…¥éªŒè¯

2. **æ–‡æ¡£æ£€æµ‹**
   - æ”¯æŒ TXTã€PDFã€DOCXã€DOC æ ¼å¼
   - æ”¯æŒå›¾ç‰‡OCRè¯†åˆ«ï¼ˆJPGã€PNGã€BMPã€GIFã€TIFFï¼‰
   - æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰
   - å­—ç¬¦é™åˆ¶ï¼ˆ10000ä¸ªå­—ç¬¦ï¼‰
   - æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
   - ä¸¥æ ¼æ¨¡å¼ï¼šç›´æ¥ä½¿ç”¨å¤§æ¨¡å‹æ£€æµ‹

3. **æ™ºèƒ½æ£€æµ‹**
   - åŸºäº ACè‡ªåŠ¨æœº + DFA çš„æ•æ„Ÿè¯åŒ¹é…
   - å¤§è¯­è¨€æ¨¡å‹å†…å®¹ç†è§£
   - æ£€æµ‹ç»“æœä¸€è‡´æ€§ä¿è¯

4. **ç”¨æˆ·ç•Œé¢**
   - å“åº”å¼è®¾è®¡
   - æ ‡ç­¾é¡µåˆ‡æ¢
   - å®æ—¶é€šçŸ¥ç³»ç»Ÿ
   - é”®ç›˜å¿«æ·é”®æ”¯æŒ

### æ£€æµ‹æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¾“å…¥] --> B{è¾“å…¥ç±»å‹}
    B -->|æ–‡æœ¬| C[æ–‡æœ¬æ£€æµ‹]
    B -->|æ–‡æ¡£| D[æ–‡æ¡£è§£æ]
    D --> E[æå–æ–‡æœ¬å†…å®¹]
    C --> F[è§„åˆ™åŒ¹é…æ£€æµ‹]
    E --> F
    F --> G[LLM æ™ºèƒ½æ£€æµ‹]
    G --> H[ç»“æœæ•´åˆ]
    H --> I[è¿”å›æ£€æµ‹ç»“æœ]
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker & Docker Compose
- WSL (Windows ç”¨æˆ·)
- 8GB+ å†…å­˜ (è¿è¡Œ qwen2.5:7b é‡åŒ–æ¨¡å‹)

### ä¸€é”®å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://gitee.com/saisai5203/sensitive-detector-v1.0.0.git
cd sensitive-detector

# 2. å¯åŠ¨ Ollama æœåŠ¡
export OLLAMA_HOST=0.0.0.0:11434
ollama serve &
ollama pull qwen2.5:7b-instruct-q4_K_M

# æˆ–è€…ä½¿ç”¨å¿«é€Ÿè®¾ç½®è„šæœ¬
chmod +x scripts/setup_quantized_model.sh
./scripts/setup_quantized_model.sh

# 3. å¯åŠ¨é¡¹ç›®
docker compose up -d

# 4. è®¿é—®ç³»ç»Ÿ
# å‰ç«¯ç•Œé¢: http://localhost:8000
# API æ–‡æ¡£: http://localhost:8000/docs
```

è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒ [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)ã€‚

## ğŸ“š API æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8000`
- **Content-Type**: `application/json`
- **å­—ç¬¦ç¼–ç **: UTF-8

### æ¥å£åˆ—è¡¨

#### 1. æ–‡æœ¬æ£€æµ‹

**æ¥å£åœ°å€**: `POST /detect/text`

**è¯·æ±‚å‚æ•°**:
```json
{
  "text": "éœ€è¦æ£€æµ‹çš„æ–‡æœ¬å†…å®¹"
}
```

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "original_text": "åŸå§‹æ–‡æœ¬",
    "rule_detected": ["æ•æ„Ÿè¯1", "æ•æ„Ÿè¯2"],
    "llm_detected": "æ•æ„Ÿ",
    "final_result": "æ•æ„Ÿ"
  }
}
```

**çŠ¶æ€ç **:
- `200`: æ£€æµ‹æˆåŠŸ
- `400`: è¯·æ±‚å‚æ•°é”™è¯¯
- `500`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

#### 2. æ–‡æ¡£æ£€æµ‹

**æ¥å£åœ°å€**: `POST /detect/document`

**è¯·æ±‚å‚æ•°**: `multipart/form-data`
- `file`: ä¸Šä¼ çš„æ–‡æ¡£æ–‡ä»¶

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "filename": "document.pdf",
    "file_type": "pdf",
    "text_length": 10000,
    "rule_detected": [],
    "llm_detected": "æ­£å¸¸",
    "final_result": "æ­£å¸¸"
  }
}
```

#### 3. å¥åº·æ£€æŸ¥

**æ¥å£åœ°å€**: `GET /health`

**å“åº”æ ¼å¼**:
```json
{
  "status": "healthy",
  "timestamp": "2025-01-01T00:00:00Z"
}
```

### é”™è¯¯å¤„ç†

æ‰€æœ‰æ¥å£éµå¾ªç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼ï¼š

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "é”™è¯¯æè¿°",
    "details": "è¯¦ç»†é”™è¯¯ä¿¡æ¯"
  }
}
```

## ğŸ¨ å‰ç«¯ç•Œé¢

### ç•Œé¢ç»“æ„

```
æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿ
â”œâ”€â”€ é¡¶éƒ¨å¯¼èˆªæ 
â”‚   â”œâ”€â”€ ç³»ç»Ÿæ ‡é¢˜
â”‚   â””â”€â”€ æ ‡ç­¾é¡µåˆ‡æ¢
â”œâ”€â”€ æ–‡æœ¬æ£€æµ‹æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ æ–‡æœ¬è¾“å…¥åŒºåŸŸ
â”‚   â”œâ”€â”€ ä¸¥æ ¼æ¨¡å¼é€‰æ‹©
â”‚   â”œâ”€â”€ å­—ç¬¦è®¡æ•°æ˜¾ç¤º
â”‚   â”œâ”€â”€ æ£€æµ‹æŒ‰é’®
â”‚   â””â”€â”€ æ£€æµ‹ç»“æœå±•ç¤º
â”œâ”€â”€ æ–‡æ¡£æ£€æµ‹æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ
â”‚   â”œâ”€â”€ æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
â”‚   â”œâ”€â”€ æ–‡ä»¶ä¿¡æ¯æ˜¾ç¤º
â”‚   â”œâ”€â”€ æ£€æµ‹æŒ‰é’®
â”‚   â””â”€â”€ æ£€æµ‹ç»“æœå±•ç¤º
â””â”€â”€ è¯åº“ç®¡ç†æ ‡ç­¾é¡µ
    â”œâ”€â”€ ä½¿ç”¨è¯åº“åˆ—è¡¨
    â”‚   â”œâ”€â”€ å·²é€‰è¯åº“æ˜¾ç¤º
    â”‚   â”œâ”€â”€ è¯åº“ç»Ÿè®¡ä¿¡æ¯
    â”‚   â””â”€â”€ æ›´æ–°æ£€æµ‹è¯åº“æŒ‰é’®
    â”œâ”€â”€ è¯åº“åˆ—è¡¨ç®¡ç†
    â”‚   â”œâ”€â”€ è¯åº“åˆ—è¡¨æ˜¾ç¤º
    â”‚   â”œâ”€â”€ åˆ›å»ºæ–°è¯åº“æŒ‰é’®
    â”‚   â”œâ”€â”€ ç¼–è¾‘è¯åº“åŠŸèƒ½
    â”‚   â””â”€â”€ åˆ é™¤è¯åº“åŠŸèƒ½
    â””â”€â”€ è¯åº“ç¼–è¾‘å™¨
        â”œâ”€â”€ è¯åº“åç§°è¾“å…¥
        â”œâ”€â”€ æ•æ„Ÿè¯åˆ—è¡¨ç¼–è¾‘
        â”œâ”€â”€ æ•æ„Ÿè¯è®¡æ•°æ˜¾ç¤º
        â””â”€â”€ ä¿å­˜/å–æ¶ˆæŒ‰é’®
```

### äº¤äº’ç‰¹æ€§

1. **å“åº”å¼è®¾è®¡**
   - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
   - å¼¹æ€§å¸ƒå±€å’Œåª’ä½“æŸ¥è¯¢

2. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
   - åŠ è½½çŠ¶æ€æŒ‡ç¤º
   - å®æ—¶é€šçŸ¥ç³»ç»Ÿ
   - å¹³æ»‘æ»šåŠ¨åŠ¨ç”»
   - é”®ç›˜å¿«æ·é”®æ”¯æŒ

3. **æ–‡ä»¶å¤„ç†**
   - æ‹–æ‹½ä¸Šä¼ 
   - æ–‡ä»¶ç±»å‹éªŒè¯
   - æ–‡ä»¶å¤§å°é™åˆ¶
   - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º

### æ ·å¼è®¾è®¡

- **è®¾è®¡é£æ ¼**: ç°ä»£åŒ–æ‰å¹³è®¾è®¡
- **è‰²å½©æ–¹æ¡ˆ**: è“è‰²ä¸»é¢˜ï¼Œç»¿è‰²/çº¢è‰²çŠ¶æ€æŒ‡ç¤º
- **å­—ä½“**: ç³»ç»Ÿé»˜è®¤å­—ä½“æ ˆ
- **å›¾æ ‡**: Font Awesome å›¾æ ‡åº“

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `OLLAMA_BASE_URL` | `http://172.20.0.1:11434` | Ollama æœåŠ¡åœ°å€ |
| `OLLAMA_MODEL` | `qwen2.5:7b-instruct-q4_K_M` | ä½¿ç”¨çš„ LLM æ¨¡å‹ï¼ˆæ¨èé‡åŒ–ç‰ˆæœ¬ï¼‰ |
| `CORS_ALLOW_ORIGINS` | `*` | CORS å…è®¸çš„æº |
| `PYTHONUNBUFFERED` | `1` | Python è¾“å‡ºç¼“å†² |

### é‡åŒ–æ¨¡å‹é…ç½®

**æ¨èä½¿ç”¨é‡åŒ–çš„Qwenæ¨¡å‹ä»¥æå‡æ€§èƒ½ï¼š**

| æ¨¡å‹ | å¤§å° | å†…å­˜å ç”¨ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|----------|
| `qwen2.5:7b-instruct-q4_K_M` | ~4.1GB | ~6GB | ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èï¼‰ |
| `qwen2.5:3b-instruct-q4_K_M` | ~1.9GB | ~3GB | å¼€å‘æµ‹è¯• |
| `qwen2.5:1.5b-instruct-q4_K_M` | ~0.9GB | ~2GB | èµ„æºå—é™ç¯å¢ƒ |


**ä¸‹è½½é‡åŒ–æ¨¡å‹ï¼š**
```bash
# æ¨èä½¿ç”¨7B INT4é‡åŒ–ç‰ˆæœ¬
ollama pull qwen2.5:7b-instruct-q4_K_M

# æˆ–ä½¿ç”¨æ›´è½»é‡çš„3Bç‰ˆæœ¬
ollama pull qwen2.5:3b-instruct-q4_K_M
```

è¯¦ç»†é…ç½®è¯·å‚è€ƒï¼š[é‡åŒ–æ¨¡å‹é…ç½®æŒ‡å—](docs/OLLAMA_QUANTIZED_MODELS.md)

### æ•æ„Ÿè¯é…ç½®

**é»˜è®¤è¯åº“ä½ç½®**: `word_libraries/` ç›®å½•

ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ `word_libraries/` ç›®å½•ä¸­çš„æ‰€æœ‰ `.txt` æ–‡ä»¶ä½œä¸ºé»˜è®¤è¯åº“ã€‚å¦‚æœç›®å½•ä¸ºç©ºï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒ…å«åŸºç¡€æ•æ„Ÿè¯çš„é»˜è®¤è¯åº“ã€‚

**è¯åº“æ ¼å¼è¦æ±‚**:
- æ¯è¡Œä¸€ä¸ªæ•æ„Ÿè¯
- UTF-8 ç¼–ç 
- æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡
- æ–‡ä»¶æ‰©å±•åå¿…é¡»ä¸º `.txt`

**è¯åº“æ–‡ä»¶ç¤ºä¾‹** (`word_libraries/æ”¿æ²»æ•æ„Ÿè¯.txt`):
```
æ³•è¥¿æ–¯
çº³ç²¹
æç«¯ä¸»ä¹‰
ææ€–ä¸»ä¹‰
```

**è¯åº“æ–‡ä»¶ç¤ºä¾‹** (`word_libraries/æš´åŠ›è¯æ±‡.txt`):
```
æš´åŠ›
è¾±éª‚
å¨èƒ
ä¼¤å®³
```

### Docker é…ç½®

#### docker-compose.yml å…³é”®é…ç½®

```yaml
services:
  sensitive-detector-backend:
    build: ./backend
    container_name: sensitive-detector
    ports:
      - "8000:8000"
    volumes:
      - ./frontend:/app/frontend
      - ./word_libraries:/app/word_libraries
      - ./detection_config.json:/app/detection_config.json
    environment:
      - OLLAMA_BASE_URL=http://172.20.0.1:11434
      - OLLAMA_MODEL=qwen2.5:7b-instruct-q4_K_M
    restart: unless-stopped
```

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### å¿«é€Ÿéƒ¨ç½² (æ¨è)

**ä¸€é”®éƒ¨ç½²**:
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://gitee.com/saisai5203/sensitive-detector-v1.0.0.git
cd sensitive-detector

# 2. å¯åŠ¨ Ollama æœåŠ¡
export OLLAMA_HOST=0.0.0.0:11434
ollama serve &
ollama pull qwen2.5:7b-instruct-q4_K_M

# 3. å¯åŠ¨é¡¹ç›®
docker compose up -d

# 4. è®¿é—®ç³»ç»Ÿ
# æµè§ˆå™¨æ‰“å¼€: http://localhost:8000
```

### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linux (Ubuntu 20.04+ æ¨è) æˆ– Windows WSL
- **Docker**: 20.10+ 
- **Docker Compose**: 2.0+
- **å†…å­˜**: 8GB+ (æ¨è 16GBï¼Œè¿è¡Œ qwen2.5:7b é‡åŒ–æ¨¡å‹)
- **ç£ç›˜**: 20GB+ å¯ç”¨ç©ºé—´

### è¯¦ç»†éƒ¨ç½²è¯´æ˜

è¯¦ç»†çš„ Docker éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ [Docker éƒ¨ç½²æ–‡æ¡£](docs/DOCKER_DEPLOYMENT.md)ï¼ŒåŒ…æ‹¬ï¼š
- Docker é…ç½®è¯´æ˜
- ç¯å¢ƒå˜é‡é…ç½®
- æ•…éšœæ’é™¤æŒ‡å—
- æ€§èƒ½ä¼˜åŒ–å»ºè®®


### ç›‘æ§å’Œç»´æŠ¤

1. **æ—¥å¿—æŸ¥çœ‹**
   ```bash
   docker compose logs -f sensitive-detector-backend
   ```

2. **æœåŠ¡çŠ¶æ€æ£€æŸ¥**
   ```bash
   docker compose ps
   curl http://localhost:8000/health
   ```

3. **æ€§èƒ½ç›‘æ§**
   - å†…å­˜ä½¿ç”¨: `docker stats sensitive-detector`
   - API å“åº”æ—¶é—´: é€šè¿‡æ—¥å¿—åˆ†æ
   - LLM æ¨ç†æ—¶é—´: é€šè¿‡æ—¥å¿—åˆ†æ

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒæ­å»º

1. **æœ¬åœ°å¼€å‘ç¯å¢ƒ**
   ```bash
   # 1. å®‰è£… Python 3.10+
   sudo apt update
   sudo apt install python3.10 python3.10-venv
   
   # 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
   python3.10 -m venv venv
   source venv/bin/activate
   
   # 3. å®‰è£…ä¾èµ–
   pip install -r backend/requirements.txt
   
   # 4. å¯åŠ¨ Ollama
   ollama serve &
   ollama pull qwen2.5:7b-instruct-q4_K_M
   
   # 5. å¯åŠ¨åç«¯æœåŠ¡
   cd backend
   uvicorn main:app --reload --host 0.0.0.0 --port 8000
   
   # 6. å¯åŠ¨å‰ç«¯æœåŠ¡ (æ–°ç»ˆç«¯)
   cd frontend
   python -m http.server 3000
   ```

2. **ä»£ç ç»“æ„**
   ```
   sensitive-detector/
   â”œâ”€â”€ backend/
   â”‚   â”œâ”€â”€ main.py              # FastAPI åº”ç”¨ä¸»æ–‡ä»¶
   â”‚   â”œâ”€â”€ requirements.txt     # Python ä¾èµ–
   â”‚   â”œâ”€â”€ Dockerfile          # Docker æ„å»ºæ–‡ä»¶
   â”‚   â””â”€â”€ sensitive_words.txt # æ•æ„Ÿè¯åº“
   â”œâ”€â”€ frontend/
   â”‚   â”œâ”€â”€ index.html          # ä¸»é¡µé¢
   â”‚   â”œâ”€â”€ style.css           # æ ·å¼æ–‡ä»¶
   â”‚   â””â”€â”€ script.js           # äº¤äº’é€»è¾‘
   â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’æ–‡ä»¶
   â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
   ```

### ä»£ç è§„èŒƒ

1. **Python ä»£ç è§„èŒƒ**
   - éµå¾ª PEP 8 æ ‡å‡†
   - ä½¿ç”¨ç±»å‹æ³¨è§£
   - å‡½æ•°å’Œç±»æ·»åŠ æ–‡æ¡£å­—ç¬¦ä¸²
   - ä½¿ç”¨ Black ä»£ç æ ¼å¼åŒ–

2. **JavaScript ä»£ç è§„èŒƒ**
   - ä½¿ç”¨ ES6+ è¯­æ³•
   - ä½¿ç”¨ const/let æ›¿ä»£ var
   - å‡½æ•°ä½¿ç”¨ç®­å¤´å‡½æ•°
   - æ·»åŠ é€‚å½“çš„æ³¨é‡Š

3. **Git æäº¤è§„èŒƒ**
   - feat: æ–°åŠŸèƒ½
   - fix: ä¿®å¤é—®é¢˜
   - docs: æ–‡æ¡£æ›´æ–°
   - style: ä»£ç æ ¼å¼è°ƒæ•´
   - refactor: ä»£ç é‡æ„
   - test: æµ‹è¯•ç›¸å…³
   - chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨


### è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: [xxx]
- **é‚®ç®±**: [xxx]
- **Gitee**: https://gitee.com/saisai5203/sensitive-detector-v1.0.0

### è´¡çŒ®æŒ‡å—


**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç‰ˆæœ¬**: v1.0.0
