# æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº FastAPI + Ollama çš„æ™ºèƒ½æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿï¼Œæ”¯æŒæ–‡æœ¬å’Œæ–‡æ¡£æ£€æµ‹ï¼Œå…·å¤‡è§„åˆ™åŒ¹é…å’Œå¤§è¯­è¨€æ¨¡å‹åŒé‡æ£€æµ‹èƒ½åŠ›ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [å‰ç«¯ç•Œé¢](#å‰ç«¯ç•Œé¢)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„å†…å®¹å®‰å…¨æ£€æµ‹å¹³å°ï¼Œç»“åˆäº†ä¼ ç»Ÿçš„è§„åˆ™åŒ¹é…ç®—æ³•å’Œå…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›å‡†ç¡®ã€å¯é çš„æ•æ„Ÿå†…å®¹è¯†åˆ«æœåŠ¡ã€‚

### æ ¸å¿ƒä»·å€¼

- **åŒé‡æ£€æµ‹**ï¼šè§„åˆ™åŒ¹é… + LLM æ™ºèƒ½æ£€æµ‹
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ–‡æœ¬ã€PDFã€DOCX æ–‡æ¡£
- **å®æ—¶æ£€æµ‹**ï¼šæ¯«ç§’çº§å“åº”æ—¶é—´
- **ç°ä»£åŒ–ç•Œé¢**ï¼šç®€æ´ç¾è§‚çš„ Web ç•Œé¢
- **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šDocker ä¸€é”®éƒ¨ç½²

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚    â”‚   åç«¯ API      â”‚    â”‚   Ollama LLM    â”‚
â”‚   (HTML/CSS/JS) â”‚â—„â”€â”€â–ºâ”‚   (FastAPI)     â”‚â—„â”€â”€â–ºâ”‚   (qwen:7b)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·äº¤äº’       â”‚    â”‚   ä¸šåŠ¡é€»è¾‘       â”‚    â”‚   æ¨¡å‹æ¨ç†       â”‚
â”‚   - æ–‡æœ¬è¾“å…¥     â”‚    â”‚   - è§„åˆ™åŒ¹é…     â”‚    â”‚   - å†…å®¹åˆ†æ     â”‚
â”‚   - æ–‡ä»¶ä¸Šä¼      â”‚    â”‚   - API è°ƒç”¨     â”‚    â”‚   - æ•æ„Ÿåº¦åˆ¤æ–­   â”‚
â”‚   - ç»“æœå±•ç¤º     â”‚    â”‚   - ç»“æœæ•´åˆ     â”‚    â”‚   - ç»“æœè¾“å‡º     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯
- **FastAPI**: ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- **Uvicorn**: ASGI æœåŠ¡å™¨
- **Pydantic**: æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–
- **PyPDF2**: PDF æ–‡æ¡£è§£æ
- **python-docx**: DOCX æ–‡æ¡£è§£æ
- **Trie**: æ•æ„Ÿè¯åŒ¹é…ç®—æ³•

#### å‰ç«¯æŠ€æœ¯
- **HTML5**: è¯­ä¹‰åŒ–æ ‡è®°
- **CSS3**: ç°ä»£åŒ–æ ·å¼è®¾è®¡
- **JavaScript ES6+**: äº¤äº’é€»è¾‘
- **Fetch API**: HTTP è¯·æ±‚
- **Drag & Drop API**: æ–‡ä»¶æ‹–æ‹½ä¸Šä¼ 

#### AI æŠ€æœ¯
- **Ollama**: æœ¬åœ° LLM è¿è¡Œç¯å¢ƒ
- **Qwen:7b**: é€šä¹‰åƒé—® 7B å‚æ•°æ¨¡å‹
- **Prompt Engineering**: æç¤ºè¯å·¥ç¨‹ä¼˜åŒ–

#### éƒ¨ç½²æŠ€æœ¯
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²
- **Docker Compose**: å¤šå®¹å™¨ç¼–æ’
- **WSL**: Windows å­ç³»ç»Ÿ Linux

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

1. **æ–‡æœ¬æ£€æµ‹**
   - å®æ—¶æ–‡æœ¬æ•æ„Ÿè¯æ£€æµ‹
   - è§„åˆ™åŒ¹é… + LLM åŒé‡éªŒè¯
   - å­—ç¬¦è®¡æ•°å’Œè¾“å…¥éªŒè¯

2. **æ–‡æ¡£æ£€æµ‹**
   - æ”¯æŒ TXTã€PDFã€DOCX æ ¼å¼
   - æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰
   - æ‹–æ‹½ä¸Šä¼ æ”¯æŒ

3. **æ™ºèƒ½æ£€æµ‹**
   - åŸºäº Trie æ ‘çš„æ•æ„Ÿè¯åŒ¹é…
   - å¤§è¯­è¨€æ¨¡å‹å†…å®¹ç†è§£
   - æ£€æµ‹ç»“æœä¸€è‡´æ€§ä¿è¯

4. **ç”¨æˆ·ç•Œé¢**
   - å“åº”å¼è®¾è®¡
   - æ ‡ç­¾é¡µåˆ‡æ¢
   - å®æ—¶é€šçŸ¥ç³»ç»Ÿ
   - é”®ç›˜å¿«æ·é”®æ”¯æŒ

### æ£€æµ‹æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¾“å…¥] --> B{è¾“å…¥ç±»å‹}
    B -->|æ–‡æœ¬| C[æ–‡æœ¬æ£€æµ‹]
    B -->|æ–‡æ¡£| D[æ–‡æ¡£è§£æ]
    D --> E[æå–æ–‡æœ¬å†…å®¹]
    C --> F[è§„åˆ™åŒ¹é…æ£€æµ‹]
    E --> F
    F --> G[LLM æ™ºèƒ½æ£€æµ‹]
    G --> H[ç»“æœæ•´åˆ]
    H --> I[è¿”å›æ£€æµ‹ç»“æœ]
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker & Docker Compose
- WSL (Windows ç”¨æˆ·)
- 8GB+ å†…å­˜ (è¿è¡Œ qwen:7b æ¨¡å‹)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://gitee.com/saisai5203/sensitive-detector-v1.0.0.git
   cd sensitive-detector
   ```

2. **å¯åŠ¨ Ollama æœåŠ¡**
   ```bash
   # åœ¨ WSL ä¸­å¯åŠ¨ Ollama
   export OLLAMA_HOST=0.0.0.0:11434
   ollama serve
   
   # ä¸‹è½½ qwen:7b æ¨¡å‹
   ollama pull qwen:7b
   ```

3. **å¯åŠ¨é¡¹ç›®**
   ```bash
   docker compose up -d
   ```

4. **è®¿é—®ç³»ç»Ÿ**
   - å‰ç«¯ç•Œé¢: http://localhost:8000
   - API æ–‡æ¡£: http://localhost:8000/api/docs

## ğŸ“š API æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8000`
- **Content-Type**: `application/json`
- **å­—ç¬¦ç¼–ç **: UTF-8

### æ¥å£åˆ—è¡¨

#### 1. æ–‡æœ¬æ£€æµ‹

**æ¥å£åœ°å€**: `POST /detect/text`

**è¯·æ±‚å‚æ•°**:
```json
{
  "text": "éœ€è¦æ£€æµ‹çš„æ–‡æœ¬å†…å®¹"
}
```

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "original_text": "åŸå§‹æ–‡æœ¬",
    "rule_detected": ["æ•æ„Ÿè¯1", "æ•æ„Ÿè¯2"],
    "llm_detected": "æ•æ„Ÿ",
    "final_result": "æ•æ„Ÿ"
  }
}
```

**çŠ¶æ€ç **:
- `200`: æ£€æµ‹æˆåŠŸ
- `400`: è¯·æ±‚å‚æ•°é”™è¯¯
- `500`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

#### 2. æ–‡æ¡£æ£€æµ‹

**æ¥å£åœ°å€**: `POST /detect/document`

**è¯·æ±‚å‚æ•°**: `multipart/form-data`
- `file`: ä¸Šä¼ çš„æ–‡æ¡£æ–‡ä»¶

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "data": {
    "filename": "document.pdf",
    "file_type": "pdf",
    "text_length": 10000,
    "rule_detected": [],
    "llm_detected": "æ­£å¸¸",
    "final_result": "æ­£å¸¸"
  }
}
```

#### 3. å¥åº·æ£€æŸ¥

**æ¥å£åœ°å€**: `GET /health`

**å“åº”æ ¼å¼**:
```json
{
  "status": "healthy",
  "timestamp": "2025-01-01T00:00:00Z"
}
```

### é”™è¯¯å¤„ç†

æ‰€æœ‰æ¥å£éµå¾ªç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼ï¼š

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "é”™è¯¯æè¿°",
    "details": "è¯¦ç»†é”™è¯¯ä¿¡æ¯"
  }
}
```

## ğŸ¨ å‰ç«¯ç•Œé¢

### ç•Œé¢ç»“æ„

```
æ•æ„Ÿè¯æ£€æµ‹ç³»ç»Ÿ
â”œâ”€â”€ é¡¶éƒ¨å¯¼èˆªæ 
â”‚   â”œâ”€â”€ ç³»ç»Ÿæ ‡é¢˜
â”‚   â””â”€â”€ æ ‡ç­¾é¡µåˆ‡æ¢
â”œâ”€â”€ æ–‡æœ¬æ£€æµ‹æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ æ–‡æœ¬è¾“å…¥åŒºåŸŸ
â”‚   â”œâ”€â”€ å­—ç¬¦è®¡æ•°æ˜¾ç¤º
â”‚   â”œâ”€â”€ æ£€æµ‹æŒ‰é’®
â”‚   â””â”€â”€ æ£€æµ‹ç»“æœå±•ç¤º
â””â”€â”€ æ–‡æ¡£æ£€æµ‹æ ‡ç­¾é¡µ
    â”œâ”€â”€ æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ
    â”œâ”€â”€ æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
    â”œâ”€â”€ æ–‡ä»¶ä¿¡æ¯æ˜¾ç¤º
    â”œâ”€â”€ æ£€æµ‹æŒ‰é’®
    â””â”€â”€ æ£€æµ‹ç»“æœå±•ç¤º
```

### äº¤äº’ç‰¹æ€§

1. **å“åº”å¼è®¾è®¡**
   - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
   - å¼¹æ€§å¸ƒå±€å’Œåª’ä½“æŸ¥è¯¢

2. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
   - åŠ è½½çŠ¶æ€æŒ‡ç¤º
   - å®æ—¶é€šçŸ¥ç³»ç»Ÿ
   - å¹³æ»‘æ»šåŠ¨åŠ¨ç”»
   - é”®ç›˜å¿«æ·é”®æ”¯æŒ

3. **æ–‡ä»¶å¤„ç†**
   - æ‹–æ‹½ä¸Šä¼ 
   - æ–‡ä»¶ç±»å‹éªŒè¯
   - æ–‡ä»¶å¤§å°é™åˆ¶
   - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º

### æ ·å¼è®¾è®¡

- **è®¾è®¡é£æ ¼**: ç°ä»£åŒ–æ‰å¹³è®¾è®¡
- **è‰²å½©æ–¹æ¡ˆ**: è“è‰²ä¸»é¢˜ï¼Œç»¿è‰²/çº¢è‰²çŠ¶æ€æŒ‡ç¤º
- **å­—ä½“**: ç³»ç»Ÿé»˜è®¤å­—ä½“æ ˆ
- **å›¾æ ‡**: Font Awesome å›¾æ ‡åº“

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `OLLAMA_BASE_URL` | `http://172.20.0.1:11434` | Ollama æœåŠ¡åœ°å€ |
| `OLLAMA_MODEL` | `qwen:7b` | ä½¿ç”¨çš„ LLM æ¨¡å‹ |
| `CORS_ALLOW_ORIGINS` | `*` | CORS å…è®¸çš„æº |
| `PYTHONUNBUFFERED` | `1` | Python è¾“å‡ºç¼“å†² |

### æ•æ„Ÿè¯é…ç½®

æ•æ„Ÿè¯åº“æ–‡ä»¶: `backend/sensitive_words.txt`

æ ¼å¼è¦æ±‚:
- æ¯è¡Œä¸€ä¸ªæ•æ„Ÿè¯
- UTF-8 ç¼–ç 
- æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡

ç¤ºä¾‹:
```
æ•æ„Ÿè¯1
æ•æ„Ÿè¯2
sensitive_word
```

### Docker é…ç½®

#### docker-compose.yml å…³é”®é…ç½®

```yaml
services:
  sensitive-detector-backend:
    build: ./backend
    container_name: sensitive-detector
    ports:
      - "8000:8000"
    volumes:
      - ./backend/sensitive_words.txt:/app/sensitive_words.txt
      - ./frontend:/app/frontend
    environment:
      - OLLAMA_BASE_URL=http://172.20.0.1:11434
      - OLLAMA_MODEL=qwen:7b
    restart: unless-stopped
```

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### å¿«é€Ÿéƒ¨ç½² (æ¨è)

**ä¸€é”®éƒ¨ç½²**:
```bash
# 1. ä¸‹è½½ Gitee éƒ¨ç½²è„šæœ¬
wget https://gitee.com/saisai5203/sensitive-detector-v1.0.0/raw/master/scripts/gitee-deploy.sh

# 2. æ‰§è¡Œéƒ¨ç½²
chmod +x gitee-deploy.sh
./gitee-deploy.sh

# 3. è®¿é—®ç³»ç»Ÿ
# æµè§ˆå™¨æ‰“å¼€: http://localhost:8000
```

### æ‰‹åŠ¨éƒ¨ç½²

1. **æœåŠ¡å™¨è¦æ±‚**
   - Ubuntu 20.04+ æˆ– CentOS 8+
   - Docker 20.10+
   - Docker Compose 2.0+
   - 8GB+ å†…å­˜ (æ¨è 16GB)
   - 20GB+ ç£ç›˜ç©ºé—´

2. **éƒ¨ç½²æ­¥éª¤**
   ```bash
   # 1. å®‰è£… Docker
   curl -fsSL https://get.docker.com -o get-docker.sh
   sh get-docker.sh
   
   # 2. å®‰è£… Docker Compose
   sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
   sudo chmod +x /usr/local/bin/docker-compose
   
   # 3. å¯åŠ¨ Ollama æœåŠ¡
   curl -fsSL https://ollama.ai/install.sh | sh
   ollama serve &
   ollama pull qwen:7b
   
   # 4. éƒ¨ç½²åº”ç”¨
   git clone https://gitee.com/your-username/sensitive-detector.git
   cd sensitive-detector
   docker compose up -d
   ```

3. **Nginx åå‘ä»£ç†** (å¯é€‰)
   ```nginx
   server {
       listen 80;
       server_name your-domain.com;
       
       location / {
           proxy_pass http://localhost:8000;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       }
   }
   ```

### Docker æ‰“åŒ…ç§»æ¤

è¯¦ç»†çš„ Docker æ‰“åŒ…ç§»æ¤æŒ‡å—è¯·å‚è€ƒ [Docker éƒ¨ç½²æ–‡æ¡£](docs/DOCKER_DEPLOYMENT.md)ï¼ŒåŒ…æ‹¬ï¼š
- å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–
- é•œåƒæ‰“åŒ…ç­–ç•¥
- ä¸€é”®éƒ¨ç½²è„šæœ¬
- éƒ¨ç½²æ³¨æ„äº‹é¡¹
- æ•…éšœæ’é™¤æŒ‡å—

### Gitee éƒ¨ç½²ï¼ˆå›½å†…ç”¨æˆ·ï¼‰

ç”±äºç½‘ç»œè®¿é—®é™åˆ¶ï¼Œå›½å†…ç”¨æˆ·æ¨èä½¿ç”¨ Gitee éƒ¨ç½²ï¼Œè¯¦ç»†æŒ‡å—è¯·å‚è€ƒ [Gitee éƒ¨ç½²æ–‡æ¡£](docs/GITEE_DEPLOYMENT.md)ï¼ŒåŒ…æ‹¬ï¼š
- Gitee ä»“åº“é…ç½®
- å›½å†…ç½‘ç»œä¼˜åŒ–
- é•œåƒåŠ é€Ÿé…ç½®
- æ•…éšœæ’é™¤æŒ‡å—

### ç›‘æ§å’Œç»´æŠ¤

1. **æ—¥å¿—æŸ¥çœ‹**
   ```bash
   docker compose logs -f sensitive-detector-backend
   ```

2. **æœåŠ¡çŠ¶æ€æ£€æŸ¥**
   ```bash
   docker compose ps
   curl http://localhost:8000/health
   ```

3. **æ€§èƒ½ç›‘æ§**
   - å†…å­˜ä½¿ç”¨: `docker stats sensitive-detector`
   - API å“åº”æ—¶é—´: é€šè¿‡æ—¥å¿—åˆ†æ
   - LLM æ¨ç†æ—¶é—´: é€šè¿‡æ—¥å¿—åˆ†æ

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒæ­å»º

1. **æœ¬åœ°å¼€å‘ç¯å¢ƒ**
   ```bash
   # 1. å®‰è£… Python 3.10+
   sudo apt update
   sudo apt install python3.10 python3.10-venv
   
   # 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
   python3.10 -m venv venv
   source venv/bin/activate
   
   # 3. å®‰è£…ä¾èµ–
   pip install -r backend/requirements.txt
   
   # 4. å¯åŠ¨ Ollama
   ollama serve &
   ollama pull qwen:7b
   
   # 5. å¯åŠ¨åç«¯æœåŠ¡
   cd backend
   uvicorn main:app --reload --host 0.0.0.0 --port 8000
   
   # 6. å¯åŠ¨å‰ç«¯æœåŠ¡ (æ–°ç»ˆç«¯)
   cd frontend
   python -m http.server 3000
   ```

2. **ä»£ç ç»“æ„**
   ```
   sensitive-detector/
   â”œâ”€â”€ backend/
   â”‚   â”œâ”€â”€ main.py              # FastAPI åº”ç”¨ä¸»æ–‡ä»¶
   â”‚   â”œâ”€â”€ requirements.txt     # Python ä¾èµ–
   â”‚   â”œâ”€â”€ Dockerfile          # Docker æ„å»ºæ–‡ä»¶
   â”‚   â””â”€â”€ sensitive_words.txt # æ•æ„Ÿè¯åº“
   â”œâ”€â”€ frontend/
   â”‚   â”œâ”€â”€ index.html          # ä¸»é¡µé¢
   â”‚   â”œâ”€â”€ style.css           # æ ·å¼æ–‡ä»¶
   â”‚   â””â”€â”€ script.js           # äº¤äº’é€»è¾‘
   â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’æ–‡ä»¶
   â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
   ```

### ä»£ç è§„èŒƒ

1. **Python ä»£ç è§„èŒƒ**
   - éµå¾ª PEP 8 æ ‡å‡†
   - ä½¿ç”¨ç±»å‹æ³¨è§£
   - å‡½æ•°å’Œç±»æ·»åŠ æ–‡æ¡£å­—ç¬¦ä¸²
   - ä½¿ç”¨ Black ä»£ç æ ¼å¼åŒ–

2. **JavaScript ä»£ç è§„èŒƒ**
   - ä½¿ç”¨ ES6+ è¯­æ³•
   - ä½¿ç”¨ const/let æ›¿ä»£ var
   - å‡½æ•°ä½¿ç”¨ç®­å¤´å‡½æ•°
   - æ·»åŠ é€‚å½“çš„æ³¨é‡Š

3. **Git æäº¤è§„èŒƒ**
   - feat: æ–°åŠŸèƒ½
   - fix: ä¿®å¤é—®é¢˜
   - docs: æ–‡æ¡£æ›´æ–°
   - style: ä»£ç æ ¼å¼è°ƒæ•´
   - refactor: ä»£ç é‡æ„
   - test: æµ‹è¯•ç›¸å…³
   - chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### æµ‹è¯•æŒ‡å—

1. **API æµ‹è¯•**
   ```bash
   # æ–‡æœ¬æ£€æµ‹æµ‹è¯•
   curl -X POST "http://localhost:8000/detect/text" \
        -H "Content-Type: application/json" \
        -d '{"text":"æµ‹è¯•æ–‡æœ¬"}'
   
   # æ–‡æ¡£æ£€æµ‹æµ‹è¯•
   curl -X POST "http://localhost:8000/detect/document" \
        -F "file=@test.pdf"
   ```

2. **å‰ç«¯æµ‹è¯•**
   - æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
   - å“åº”å¼è®¾è®¡æµ‹è¯•
   - äº¤äº’åŠŸèƒ½æµ‹è¯•
   - æ€§èƒ½æµ‹è¯•

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. Ollama è¿æ¥å¤±è´¥

**é—®é¢˜**: `Ollama API è°ƒç”¨å¤±è´¥`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ Ollama æœåŠ¡çŠ¶æ€
ps aux | grep ollama

# é‡å¯ Ollama æœåŠ¡
pkill ollama
export OLLAMA_HOST=0.0.0.0:11434
ollama serve &

# æ£€æŸ¥ç½‘ç»œè¿æ¥
curl http://localhost:11434/api/tags
```

#### 2. Docker å®¹å™¨æ— æ³•å¯åŠ¨

**é—®é¢˜**: å®¹å™¨å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker compose logs sensitive-detector-backend

# é‡æ–°æ„å»ºé•œåƒ
docker compose down
docker compose build --no-cache
docker compose up -d
```

#### 3. å‰ç«¯èµ„æºåŠ è½½å¤±è´¥

**é—®é¢˜**: CSS/JS æ–‡ä»¶ 404 é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥æ–‡ä»¶è·¯å¾„
ls -la frontend/

# æ£€æŸ¥ Docker æŒ‚è½½
docker compose exec sensitive-detector-backend ls -la /app/frontend/

# é‡å¯å®¹å™¨
docker compose restart
```

#### 4. LLM æ£€æµ‹ç»“æœä¸ä¸€è‡´

**é—®é¢˜**: ç›¸åŒè¾“å…¥äº§ç”Ÿä¸åŒç»“æœ

**è§£å†³æ–¹æ¡ˆ**:
```python
# æ£€æŸ¥ temperature å‚æ•°
# åœ¨ backend/main.py ä¸­ç¡®ä¿ temperature=0

# æ£€æŸ¥æ¨¡å‹çŠ¶æ€
curl -X POST http://localhost:11434/api/generate \
     -H "Content-Type: application/json" \
     -d '{"model": "qwen:7b", "prompt": "æµ‹è¯•", "stream": false}'
```

### æ€§èƒ½ä¼˜åŒ–

1. **LLM æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨ GPU åŠ é€Ÿ (å¦‚æœå¯ç”¨)
   - è°ƒæ•´æ¨¡å‹å‚æ•°
   - å®ç°ç»“æœç¼“å­˜

2. **API æ€§èƒ½ä¼˜åŒ–**
   - æ·»åŠ è¯·æ±‚é™æµ
   - å®ç°å¼‚æ­¥å¤„ç†
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢

3. **å‰ç«¯æ€§èƒ½ä¼˜åŒ–**
   - èµ„æºå‹ç¼©
   - ç¼“å­˜ç­–ç•¥
   - æ‡’åŠ è½½å®ç°

### å®‰å…¨è€ƒè™‘

1. **è¾“å…¥éªŒè¯**
   - æ–‡ä»¶ç±»å‹æ£€æŸ¥
   - æ–‡ä»¶å¤§å°é™åˆ¶
   - å†…å®¹é•¿åº¦é™åˆ¶

2. **API å®‰å…¨**
   - CORS é…ç½®
   - è¯·æ±‚é¢‘ç‡é™åˆ¶
   - é”™è¯¯ä¿¡æ¯è¿‡æ»¤

3. **éƒ¨ç½²å®‰å…¨**
   - HTTPS é…ç½®
   - é˜²ç«å¢™è®¾ç½®
   - å®šæœŸå®‰å…¨æ›´æ–°

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: [ç»´æŠ¤è€…å§“å]
- **é‚®ç®±**: [ç»´æŠ¤è€…é‚®ç®±]
- **Gitee**: https://gitee.com/saisai5203/sensitive-detector

### è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç æ›´æ”¹
4. åˆ›å»º Pull Request
5. ç­‰å¾…ä»£ç å®¡æŸ¥

### è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç‰ˆæœ¬**: v1.0.0
